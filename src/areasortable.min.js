/**
*  area-sortable.js
*  A simple js class to sort elements of an area smoothly using drag-and-drop (desktop and mobile)
*  @VERSION: 1.2.1
*
*  https://github.com/foo123/area-sortable.js
*
**/
!function(t,n){"use strict";"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(function(t){return n()}):t.AreaSortable=n()}("undefined"!=typeof self?self:this,function(t){"use strict";var _="$areaSortable",tt="rect",nt="scroll",et="style",ot="margin",b="padding",it="left",rt="right",at="width",lt="top",st="bottom",pt="height",w="nextElementSibling",y="previousElementSibling",ct="scrollTop",ut="scrollLeft",dt=1,ft=2,mt=dt+ft,ht=Math,vt=String,E=parseInt,o=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,L=/mousedown|pointerdown/,e=vt.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(n,"")},i=null;function r(){var n=!1,t={};try{Object.defineProperty(t,"passive",{get:function(){return!(n=!0)}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){n=!1}return n}function gt(t,n){return t<0?-1:0<t?1:n||0}function I(t,n){return t.classList?t.classList.contains(n):-1!==(" "+t.className+" ").indexOf(" "+n+" ")}function xt(t,n){t.classList?t.classList.add(n):I(t,n)||(t.className=""===t.className?n:t.className+" "+n)}function bt(t,n){t.classList?t.classList.remove(n):t.className=e((" "+t.className+" ").replace(" "+n+" "," "))}function S(t,n,e,o){null==i&&(i=r()),t.attachEvent?t.attachEvent("on"+n,e):t.addEventListener(n,e,i?o:"object"==typeof o?!!o.capture:!!o)}function N(t,n,e,o){null==i&&(i=r()),t.detachEvent?t.detachEvent("on"+n,e):t.removeEventListener(n,e,i?o:"object"==typeof o?!!o.capture:!!o)}function wt(t){return("function"==typeof window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle)||{}}function yt(t,n,e){return t.elementsFromPoint(n,e)}function Et(e,t){return t.reduce(function(t,n){return t[n]=e[et].getPropertyValue(n),t},{})}function Lt(n,t,e){e=e||n[_][et],t.forEach(function(t){o.call(e,t)&&""!==e[t]?n[et][t]=e[t]:n[et].removeProperty(t)})}function It(n,t,e){var o,i,r,a;return 0<t&&(n[_]&&n[_].animation&&n[_].animation.stop(),o="transform "+vt(t)+"ms",i="translate3d(0,0,0)",r=null,a=function t(){r&&clearTimeout(r),r=null,n[_]&&n[_].animation&&t===n[_].animation.stop&&(n[_].animation=null),n[et].transform===i&&n[et].transition===o&&(n[et].transition="none",n[et].transform="none")},n[et].transition="none",n[et].transform="translate3d("+vt(-(e[it]||0))+"px,"+vt(-(e[lt]||0))+"px,0)",n.offsetWidth,n[et].transform=i,n[et].transition=o,r=setTimeout(a,t),n[_].animation={stop:a}),n}function St(t,n,e,o,i){t=t[_].r,n=n[_][tt];return ht.max(0,ht.min(1,ht.max(0,ht.min(t[o]+t[i],n[o]-e[o]+n[i])-ht.max(t[o],n[o]-e[o]))/ht.min(t[i],n[i])))}function Nt(t,n,e,o,i){var r=t[_].r,a=n[_][tt],t=0,n=0,t=ht.max(0,ht.min(r[it]+r[at],a[it]-e[it]+a[at])-ht.max(r[it],a[it]-e[it])),n=ht.max(0,ht.min(r[lt]+r[pt],a[lt]-e[lt]+a[pt])-ht.max(r[lt],a[lt]-e[lt]));return ht.max(0,ht.min(1,t*n/(ht.min(r[at],a[at])*ht.min(r[pt],a[pt]))))}function Bt(t,n){return 0!==t[n]||((t[n]=1)===t[n]?(t[n]=0,1):void 0)}function a(B,C){function e(){G=u=c=j=W=$=T=R=A=n=z=P=null,q=!1,Y=0}function o(){f&&(J&&(clearInterval(J),J=null),m?(N(G,"touchmove",g,!1),N(G,"touchend",x,!1),N(G,"touchcancel",x,!1)):(N(G,"mousemove",g,!1),N(G,"mouseup",x,!1)),P&&P.parentNode&&(P.parentNode.removeChild(P),P[_]=null),bt(j,B.options.activeArea||"dnd-sortable-area"),Lt(j,["width","height","box-sizing","padding-left","padding-top","padding-right","padding-bottom","max-width","max-height"],j[_].style),A&&bt(A,B.options.closestItem||"dnd-sortable-closest"),bt(z,B.options.activeItem||"dnd-sortable-dragged"),c.forEach(function(t){Lt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),t[_]=null}),j[_]=null,W&&(W[_]=null),f=!1)}function p(t,n,e){e<0?(R===n&&(R=t),T===t&&(T=P[y]),j.insertBefore(t,n)):0<e&&(R===t&&(R=t[w]),n[w]?j.insertBefore(t,n[w]):(j.appendChild(t),T=t)),t[_].index=n[_].index,j.insertBefore(P,t)}function t(t){s&&!f&&B.options.container&&(L.test(t.type)&&0!==t.button||(e(),!(n=t.target)||!I(n,B.options.handle||"dnd-sortable-handle")||!(z=function(t,n){if(t.closest)return t.closest("."+n);for(;t;){if(I(t,n))return t;t=t.parentNode}}(n,B.options.item||"dnd-sortable-item"))||!(j=z.parentNode)||"string"==typeof B.options.container&&j.id!==B.options.container||"string"!=typeof B.options.container&&j!==B.options.container?e():("function"==typeof B.options.onStart&&B.options.onStart(z),"function"!=typeof B.options.itemFilter||(z=B.options.itemFilter(z))?(f=!0,G=z.ownerDocument||document,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),m=t.touches&&t.touches.length,function(){var t,i=0,r=0,a=it,l=at,s=rt,n=(j.tagName||"").toLowerCase();if($=(t=G).scrollingElement||t.documentElement||t.body,W=null,B.options.autoscroll)for(W=j;W&&!($===W||ft!==C&&W.scrollHeight>W.clientHeight&&Bt(W,ct)||dt!==C&&W.scrollWidth>W.clientWidth&&Bt(W,ut));)W=W.parentNode;j[_]={rect:j.getBoundingClientRect(),scroll:{top:j[ct]||0,left:j[ut]||0,width:j.scrollWidth,height:j.scrollHeight,top0:j[ct]||0,left0:j[ut]||0},$:wt(j),style:Et(j,["width","height","box-sizing","padding-left","padding-top","padding-right","padding-bottom","max-width","max-height"])},j[_][b]={left:E(j[_].$.paddingLeft)||0,right:E(j[_].$.paddingRight)||0},W&&W!==j&&(W[_]={rect:W.getBoundingClientRect(),scroll:{top:W[ct]||0,left:W[ut]||0,width:W.scrollWidth,height:W.scrollHeight,top0:W[ct]||0,left0:W[ut]||0}}),(c=[].map.call(j.children,function(t,n){var e=t.getBoundingClientRect(),o=wt(t);return t[_]={index:n,line:0,prev:{},rect:{top:e[lt],left:e[it],width:e[at],height:e[pt]},r:{top:e[lt],left:e[it],width:e[at],height:e[pt]},margin:{top:E(o.marginTop)||0,right:E(o.marginRight)||0,bottom:E(o.marginBottom)||0,left:E(o.marginLeft)||0},$:o,style:Et(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),animation:null},o=t[_][ot][a]+t[_][tt][l]+t[_][ot][s],0<r&&j[_][b][a]+r+o+j[_][b][s]>j[_][tt][l]&&(i++,r=0),t[_].line=i,r+=o,t})).length&&(R=c[0],T=c[c.length-1]),a=lt,l=pt,s=st,u=new Array(c.length),c.forEach(function(t){var n=t[_].line,t=t[_][tt][a]-t[_][ot][a]-j[_][tt][a]+j[_][nt][a];u[n]=null==u[n]?t:ht.min(t,u[n])}),xt(j,B.options.activeArea||"dnd-sortable-area"),j[et].boxSizing="border-box",j[et][at]=vt(j[_][tt][at])+"px",j[et][pt]=vt(j[_][tt][pt])+"px",j[et].maxWidth=vt(j[_][tt][at])+"px",j[et].maxHeight=vt(j[_][tt][pt])+"px",z.draggable=!1,xt(z,B.options.activeItem||"dnd-sortable-dragged"),h=!0,c.forEach(function(t){var n=c[0];t[et].position="absolute",t[et].boxSizing="border-box",t[et].overflow="hidden",t[et][lt]=vt(t[_][tt][lt]-j[_][tt][lt]+j[_][nt][lt]-t[_][ot][lt])+"px",t[et][it]=vt(t[_][tt][it]-j[_][tt][it]+j[_][nt][it]-t[_][ot][it])+"px",t[et][at]=vt(t[_][tt][at])+"px",t[et][pt]=vt(t[_][tt][pt])+"px",t[_][tt][at]===n[_][tt][at]&&t[_][tt][pt]===n[_][tt][pt]&&t[_][ot][lt]===n[_][ot][lt]&&t[_][ot][st]===n[_][ot][st]&&t[_][ot][it]===n[_][ot][it]&&t[_][ot][rt]===n[_][ot][rt]||(h=!1)}),xt(P=G.createElement("ul"===n||"ol"===n?"li":"tr"===n?"td":"tbody"===n||"thead"===n||"tfoot"===n||"table"===n?"tr":"span"),B.options.placeholder||"dnd-sortable-placeholder"),P[et].position="absolute",P[et].display="block",P[et].boxSizing="border-box",P[et].margin="0",j===W&&(j[et].paddingLeft=vt(j[_][nt][at]-j[_][tt][at])+"px",j[et].paddingTop=vt(j[_][nt][pt]-j[_][tt][pt])+"px",j[et].paddingRight="0px",j[et].paddingBottom="0px",j[ut]=j[_][nt][it],j[ct]=j[_][nt][lt]),m?(S(G,"touchmove",g,!1),S(G,"touchend",x,!1),S(G,"touchcancel",x,!1)):(S(G,"mousemove",g,!1),S(G,"mouseup",x,!1))}(),O=(m?t.touches[0]:t).clientX,D=(m?t.touches[0]:t).clientY,M=F=0,k=O,H=D,j.insertBefore(P,z),P[et][at]=vt(z[_][tt][at])+"px",P[et][pt]=vt(z[_][tt][pt])+"px",P[et][lt]=vt(z[_][tt][lt]-j[_][tt][lt]+j[_][nt][lt])+"px",P[et][it]=vt(z[_][tt][it]-j[_][tt][it]+j[_][nt][it])+"px",ft!==C&&(z[et][lt]=vt(D-H+z[_][tt][lt]-j[_][tt][lt]+j[_][nt][lt]-z[_][ot][lt])+"px"),dt!==C&&(z[et][it]=vt(O-k+z[_][tt][it]-j[_][tt][it]+j[_][nt][it]-z[_][ot][it])+"px")):e())))}var P,z,n,A,R,T,c,u,$,W,j,k,H,O,D,F,M,V,X,Y,q,G,i,r,a,l=!1,s=!1,f=!1,m=!1,J=null,h=!1,K=ft===C?at:pt,Q=ft===C?it:lt,v=it===Q?rt:st,U=mt===C?function(t,n,e,o){var i,r,a=n;if(h){if(e<0){for(r=t[w],p(t,n,e),t[_].prev.line=t[_].line,t[_].prev[lt]=t[_][tt][lt],t[_].prev[it]=t[_][tt][it],t[_].line=n[_].line,t[_][tt][lt]=n[_][tt][lt],t[_][tt][it]=n[_][tt][it],P[et][lt]=vt(t[_][tt][lt]-j[_][tt][lt])+"px",P[et][it]=vt(t[_][tt][it]-j[_][tt][it])+"px";(i=n[w])&&i!==r;)n[_].animation&&n[_].animation.stop(),n[_].index++,n[_].prev.line=n[_].line,n[_].prev[lt]=n[_][tt][lt],n[_].prev[it]=n[_][tt][it],n[_].line=i[_].line,n[_][tt][lt]=i[_][tt][lt],n[_][tt][it]=i[_][tt][it],n[et][lt]=vt(n[_][tt][lt]-j[_][tt][lt]-n[_][ot][lt])+"px",n[et][it]=vt(n[_][tt][it]-j[_][tt][it]-n[_][ot][it])+"px",n=i;n[_].animation&&n[_].animation.stop(),n[_].index++,n[_].prev.line=n[_].line,n[_].prev[lt]=n[_][tt][lt],n[_].prev[it]=n[_][tt][it],n[_].line=t[_].prev.line,n[_][tt][lt]=t[_].prev[lt],n[_][tt][it]=t[_].prev[it],n[et][lt]=vt(n[_][tt][lt]-j[_][tt][lt]-n[_][ot][lt])+"px",n[et][it]=vt(n[_][tt][it]-j[_][tt][it]+j[_][nt][it]-n[_][ot][it])+"px"}else if(0<e){for(r=t[w],p(t,n,e),n=r,(i=t)[_].prev.line=i[_].line,i[_].prev[lt]=i[_][tt][lt],i[_].prev[it]=i[_][tt][it];n[_].animation&&n[_].animation.stop(),n[_].index--,n[_].prev.line=n[_].line,n[_].prev[lt]=n[_][tt][lt],n[_].prev[it]=n[_][tt][it],n[_].line=i[_].prev.line,n[_][tt][lt]=i[_].prev[lt],n[_][tt][it]=i[_].prev[it],n[et][lt]=vt(n[_][tt][lt]-j[_][tt][lt]-n[_][ot][lt])+"px",n[et][it]=vt(n[_][tt][it]-j[_][tt][it]-n[_][ot][it])+"px",(n=(i=n)[w])&&n!==P;);t[_].line=i[_].prev.line,t[_][tt][lt]=i[_].prev[lt],t[_][tt][it]=i[_].prev[it],P[et][lt]=vt(t[_][tt][lt]-j[_][tt][lt])+"px",P[et][it]=vt(t[_][tt][it]-j[_][tt][it])+"px"}It(a,o,{top:a[_][tt][lt]-a[_].prev[lt],left:a[_][tt][it]-a[_].prev[it]})}else e<0?(i=P[y],r=n[y]||n,p(t,n,e)):0<e&&(i=t[w],r=P[y]||t[w],p(t,n,e)),function(t,n,e,o){for(t=t[e<0?w:y];t;){if(t!==o&&(t[_].index+=e<0?1:-1),t===n)return;t=t[e<0?w:y]}}(t,i,e,P),function(t,n,e,o,i,r,a,l){for(var s,p=0;t;)t!==i&&(t[_]&&t[_].animation&&t[_].animation.stop(),s=t[_][ot][r]+t[_][tt][a]+t[_][ot][l],0<p&&e[_][b][r]+p+s+e[_][b][l]>e[_][tt][a]&&(n++,p=0),t[_].line=n,t[_].prev[r]=t[_][tt][r],t[_][tt][r]=e[_][tt][r]+e[_][b][r]+p+t[_][ot][r],(t===o?i:t)[et][r]=vt(t[_][tt][r]-e[_][tt][r]-(t===o?0:t[_][ot][r]))+"px",p+=s),t=t[w]}(r=function(t,n){for(var e;(e=t[y])&&e[_]&&e[_].line>=n;)t=e;return t}(r,e=r[_].line),e,j,t,P,it,at,rt),function(t,n,e,o,i,r,a,l){for(var s,p,c,u=t,d=t[_].line,f=0;t;)t!==i&&(s=t[_].line,c=t[_][ot][r]+t[_][tt][a]+t[_][ot][l],f=s===d?ht.max(f,c):(n[s]=n[d]+f,d=s,c)),t=t[w];for(0<f&&(n[d+1]=n[d]+f),t=u;t;){if(t!==i){switch(p=n[s=t[_].line],t[_].prev[r]=t[_][tt][r],t[_].$.verticalAlign){case"bottom":t[_][tt][r]=e[_][tt][r]+n[s+1]-t[_][tt][a]-t[_][ot][l];break;case"top":default:t[_][tt][r]=e[_][tt][r]+p+t[_][ot][r]}(t===o?i:t)[et][r]=vt(t[_][tt][r]-(t===o?0:t[_][ot][r])-e[_][tt][r])+"px"}t=t[w]}}(r,u,j,t,P,lt,pt,st),It(a,o,{top:a[_][tt][lt]-a[_].prev[lt],left:a[_][tt][it]-a[_].prev[it]})}:function(t,n,e,o){var i,r,a=n,l=0,s=0;if(e<0){for(r=t[w],p(t,n,e),t[_].prev[Q]=t[_][tt][Q],s=t[_][ot][Q]-n[_][ot][Q],t[_][tt][Q]=n[_][tt][Q]+s,P[et][Q]=vt(t[_][tt][Q]-j[_][tt][Q]+j[_][nt][Q])+"px",l=t[_][tt][K]-n[_][tt][K],s+=t[_][ot][v]-n[_][ot][v];(i=n[w])&&i!==r;)n[_].animation&&n[_].animation.stop(),n[_].index++,n[_].prev[Q]=n[_][tt][Q],s+=n[_][ot][Q]-i[_][ot][Q],n[_][tt][Q]=i[_][tt][Q]+l+s,s+=n[_][ot][v]-i[_][ot][v],n[et][Q]=vt(n[_][tt][Q]-j[_][tt][Q]+j[_][nt][Q]-n[_][ot][Q])+"px",l+=n[_][tt][K]-i[_][tt][K],n=i;n[_].animation&&n[_].animation.stop(),n[_].index++,n[_].prev[Q]=n[_][tt][Q],n[_][tt][Q]=t[_].prev[Q]+l+s-t[_][ot][Q]+n[_][ot][Q],n[et][Q]=vt(n[_][tt][Q]-j[_][tt][Q]+j[_][nt][Q]-n[_][ot][Q])+"px"}else if(0<e){for(r=t[w],p(t,n,e),n=r,l=s=0,(i=t)[_].prev[Q]=i[_][tt][Q];n[_].animation&&n[_].animation.stop(),n[_].index--,n[_].prev[Q]=n[_][tt][Q],s+=n[_][ot][Q]-i[_][ot][Q],n[_][tt][Q]=i[_].prev[Q]+l+s,n[et][Q]=vt(n[_][tt][Q]-j[_][tt][Q]+j[_][nt][Q]-n[_][ot][Q])+"px",l+=-(i[_][tt][K]-n[_][tt][K]),s+=n[_][ot][v]-i[_][ot][v],(n=(i=n)[w])&&n!==P;);t[_][tt][Q]=i[_].prev[Q]+l+s-i[_][ot][Q]+t[_][ot][Q],P[et][Q]=vt(t[_][tt][Q]-j[_][tt][Q]+j[_][nt][Q])+"px"}(t={})[Q]=a[_][tt][Q]-a[_].prev[Q],It(a,o,t)},Z=mt===C?Nt:St,g=(i=function(t){var n,e,o,i,r,a,l,s,p,c,u,f,m,h,v,g,x,b,w=0,y=lt,E=pt,L=it,I=at,S=0,N=0;dt===C&&(L=lt,I=pt),e=(t.touches&&t.touches.length?t.touches[0]:t).clientX,n=(t.touches&&t.touches.length?t.touches[0]:t).clientY,o=e-O,i=n-D,F=0===F?o:F,M=0===M?i:M,O=e,D=n,V=(p=W)?{top:p[ct]-p[_][nt].top0||0,left:p[ut]-p[_][nt].left0||0}:{top:0,left:0},ft!==C&&(z[_].r[lt]=D-H+z[_][tt][lt]-V[lt],z[et][lt]=vt(z[_].r[lt]-j[_][tt][lt]+j[_][nt][lt]-z[_][ot][lt]+V[lt])+"px"),dt!==C&&(z[_].r[it]=O-k+z[_][tt][it]-V[it],z[et][it]=vt(z[_].r[it]-j[_][tt][it]+j[_][nt][it]-z[_][ot][it]+V[it])+"px"),B.options.autoscroll&&W&&(!J||o*F<0||i*M<0)&&(J&&(clearInterval(J),J=null),p=t=$===W?(r=W[_][tt][at],a=0,l=W[_][tt][pt],s=0,2):(r=W[_][tt][rt],a=W[_][tt][it],l=W[_][tt][st],s=W[_][tt][lt],1.5),dt!==C&&(0<o&&W[ut]+W[_][tt][at]<W[_][nt][at]&&z[_].r[it]+z[_].r[at]+o>=r||o<0&&0<W[ut]&&z[_].r[it]+o<=a)&&(S=ht.round(gt(o)*t*z[_].r[at])),ft!==C&&(0<i&&W[ct]+W[_][tt][pt]<W[_][nt][pt]&&z[_].r[lt]+z[_].r[pt]+i>=l||i<0&&0<W[ct]&&z[_].r[lt]+i<=s)&&(N=ht.round(gt(i)*p*z[_].r[pt])),(S||N)&&(c=ht.abs(S)>ht.abs(N)?S:0,u=ht.abs(N)>=ht.abs(S)?N:0,f=B.options.scrollAnimationMs||0,m=1e3/60,h=W[ct]||0,v=W[ut]||0,g=0,x=c/(f||m),b=u/(f||m),J=setInterval(function(){g+=m,h+=b*m,v+=x*m,W[ct]=ht.max(0,h),W[ut]=ht.max(0,v),f<=g&&(clearInterval(J),J=null)},m))),F=o,M=i,N=z[_].r[it]+z[_].r[at]/2,c=z[_].r[lt]+z[_].r[pt]/2,u=z[_].r[L],N=function(t){for(var n=1,e=arguments;n<e.length;n++)t.push.apply(t,e[n]);return t}(yt(G,e,n),dt===C?[]:yt(G,z[_].r[it]+2,c),dt===C?[]:yt(G,z[_].r[it]+z[_].r[at]-2,c),ft===C?[]:yt(G,N,z[_].r[lt]+2),ft===C?[]:yt(G,N,z[_].r[lt]+z[_].r[pt]-2)).reduce(function(t,n){var e;return n!==z&&n!==P&&n.parentNode===j&&(e=Z(z,n,V,Q,K),w<e&&(w=e,t=n)),t},null),i=mt===C?(!N&&z!==R&&0<=R[_][tt][L]-V[L]-(u+z[_][tt][I])&&R[_][tt][L]-V[L]-(u+z[_][tt][I])<d&&.7<(w=St(z,R,V,y,E))&&(N=R),!N&&z!==T&&0<=u-(T[_][tt][L]-V[L]+T[_][tt][I])&&u-(T[_][tt][L]-V[L]+T[_][tt][I])<d&&.7<(w=St(z,T,V,y,E))&&(N=T),N?N[_].index-z[_].index:ht.abs(i)>=ht.abs(o)?i:o):(!N&&z!==R&&R[_][tt][L]-V[L]>u+z[_][tt][I]&&(N=R),!N&&z!==T&&u>T[_][tt][L]-V[L]+T[_][tt][I]&&(N=T),ft===C?o:i),A&&(X<0&&0<i&&Y<.5||0<X&&i<0&&Y<.5||N&&A!==N&&Y<w||!Z(z,A,V,Q,K))&&(bt(A,B.options.closestItem||"dnd-sortable-closest"),Y=0,A=null),!A&&N&&w&&(A=N,X=0<i?1:-1,Y=w,q=!1),A&&((w=w||Z(z,A,V,Q,K))?.2<(Y=w)?(xt(A,B.options.closestItem||"dnd-sortable-closest"),.5<w&&!q&&(k-=z[_][tt][it],H-=z[_][tt][lt],q=!0,U(z,A,X,B.options.animationMs||0),k+=z[_][tt][it],H+=z[_][tt][lt])):bt(A,B.options.closestItem||"dnd-sortable-closest"):(bt(A,B.options.closestItem||"dnd-sortable-closest"),Y=0,A=null))},a=!(r=60),function(){var t=arguments;a||(i.apply(this,t),a=!0,setTimeout(function(){a=!1},r))}),x=function(t){var n=z;o(),e(),"function"==typeof B.options.onEnd&&B.options.onEnd(n)};B.start=B.options.callable?function(){s||(s=!(l=!1),B.handle=t)}:function(){s||(s=!0,l||(l=!0,S(document,"touchstart",t,{capture:!0,passive:!1}),S(document,"mousedown",t,{capture:!0,passive:!1})))},B.stop=function(){B.handle=null,s=!1,l&&(l=!1,N(document,"touchstart",t,{capture:!0,passive:!1}),N(document,"mousedown",t,{capture:!0,passive:!1})),o(),e()}}function l(t,n){var e=this;if(!(e instanceof l))return new l(t,n);switch(e.options=n||{},(t=vt(t)).toLowerCase()){case"unrestricted":a(e,mt);break;case"horizontal":a(e,ft);break;case"vertical":a(e,dt);break;default:throw new TypeError("AreaSortable invalid sort mode:"+t)}e.start()}return window.Element&&!o.call(window.Element.prototype,_)&&(window.Element.prototype[_]=null),l.VERSION="1.2.1",l.prototype={constructor:l,options:null,start:null,handle:null,stop:null,dispose:function(){var t=this;return t.stop&&t.stop(),t.options=null,t.start=null,t.handle=null,t.stop=null,t}},l});