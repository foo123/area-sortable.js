/**
*  area-sortable.js
*  A simple js class to sort elements of an area smoothly using drag-and-drop (desktop and mobile)
*  @VERSION: 1.2.2
*
*  https://github.com/foo123/area-sortable.js
*
**/
!function(t,n){"use strict";"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(function(t){return n()}):t.AreaSortable=n()}("undefined"!=typeof self?self:this,function(t){"use strict";var nt="$areaSortable",et="rect",ot="scroll",it="style",rt="margin",w="padding",at="left",lt="right",st="width",pt="top",ct="bottom",ut="height",y="nextElementSibling",E="previousElementSibling",dt="scrollTop",ft="scrollLeft",mt=1,ht=2,vt=mt+ht,gt=Math,xt=String,I=parseInt,o=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,L=/mousedown|pointerdown/,e=xt.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(n,"")},i=null;function bt(t,n){return t<0?-1:0<t?1:n||0}function r(){var n=!1,t={};try{Object.defineProperty(t,"passive",{get:function(){return!(n=!0)}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){n=!1}return n}function wt(t,n,e,o){null==i&&(i=r()),t.attachEvent?t.attachEvent("on"+n,e):t.addEventListener(n,e,i?o:"object"==typeof o?!!o.capture:!!o)}function yt(t,n,e,o){null==i&&(i=r()),t.detachEvent?t.detachEvent("on"+n,e):t.removeEventListener(n,e,i?o:"object"==typeof o?!!o.capture:!!o)}function Et(t,n){return t.classList?t.classList.contains(n):-1!==(" "+t.className+" ").indexOf(" "+n+" ")}function It(t,n){t.classList?t.classList.add(n):Et(t,n)||(t.className=""===t.className?n:t.className+" "+n)}function Lt(t,n){t.classList?t.classList.remove(n):t.className=e((" "+t.className+" ").replace(" "+n+" "," "))}function St(t,n){return 0!==t[n]||((t[n]=1)===t[n]?(t[n]=0,1):void 0)}function Nt(t){return("function"==typeof window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle)||{}}function Bt(t,n,e){return t.elementsFromPoint(n,e)}function Ct(e,t){return t.reduce(function(t,n){return t[n]=e[it].getPropertyValue(n),t},{})}function Pt(n,t,e){e=e||n[nt][it],t.forEach(function(t){o.call(e,t)&&""!==e[t]?n[it][t]=e[t]:n[it].removeProperty(t)})}function zt(n,t,e){var o,i,r,a;return 0<t&&(n[nt]&&n[nt].animation&&n[nt].animation.stop(),o="transform "+xt(t)+"ms",i="translate3d(0,0,0)",r=null,a=function t(){r&&clearTimeout(r),r=null,n[nt]&&n[nt].animation&&t===n[nt].animation.stop&&(n[nt].animation=null),n[it].transform===i&&n[it].transition===o&&(n[it].transition="none",n[it].transform="none")},n[it].transition="none",n[it].transform="translate3d("+xt(-(e[at]||0))+"px,"+xt(-(e[pt]||0))+"px,0)",n.offsetWidth,n[it].transform=i,n[it].transition=o,r=setTimeout(a,t),n[nt].animation={stop:a}),n}function At(t,n,e,o,i){t=t[nt].r,n=n[nt][et];return gt.max(0,gt.min(1,gt.max(0,gt.min(t[o]+t[i],n[o]-e[o]+n[i])-gt.max(t[o],n[o]-e[o]))/gt.min(t[i],n[i])))}function Rt(t,n,e,o,i){var r=t[nt].r,a=n[nt][et],t=0,n=0,t=gt.max(0,gt.min(r[at]+r[st],a[at]-e[at]+a[st])-gt.max(r[at],a[at]-e[at])),n=gt.max(0,gt.min(r[pt]+r[ut],a[pt]-e[pt]+a[ut])-gt.max(r[pt],a[pt]-e[pt]));return gt.max(0,gt.min(1,t*n/(gt.min(r[st],a[st])*gt.min(r[ut],a[ut]))))}function a(S,N){function e(){K=u=c=$=T=R=A=z=P=n=C=B=null,J=!1,G=0}function o(){d&&(Q&&(clearInterval(Q),Q=null),f?(yt(K,"touchmove",g,!1),yt(K,"touchend",b,!1),yt(K,"touchcancel",b,!1)):(yt(K,"mousemove",g,!1),yt(K,"mouseup",b,!1)),m&&(clearInterval(m),m=null),B&&B.parentNode&&(B.parentNode.removeChild(B),B[nt]=null),Lt($,S.options.activeArea||"dnd-sortable-area"),Pt($,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"],$[nt].style),P&&Lt(P,S.options.closestItem||"dnd-sortable-closest"),Lt(C,S.options.activeItem||"dnd-sortable-dragged"),c.forEach(function(t){Pt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),t[nt]=null}),$[nt]=null,T&&(T[nt]=null),d=!1)}function p(t,n,e){e<0?(z===n&&(z=t),A===t&&(A=B[E]),$.insertBefore(t,n)):0<e&&(z===t&&(z=t[y]),n[y]?$.insertBefore(t,n[y]):($.appendChild(t),A=t)),t[nt].index=n[nt].index,$.insertBefore(B,t)}function t(t){s&&!d&&S.options.container&&(L.test(t.type)&&0!==t.button||(e(),!(n=t.target)||!Et(n,S.options.handle||"dnd-sortable-handle")||!(C=function(t,n){if(t.closest)return t.closest("."+n);for(;t;){if(Et(t,n))return t;t=t.parentNode}}(n,S.options.item||"dnd-sortable-item"))||!($=C.parentNode)||"string"==typeof S.options.container&&$.id!==S.options.container||"string"!=typeof S.options.container&&$!==S.options.container?e():("function"==typeof S.options.onStart&&S.options.onStart(C),"function"!=typeof S.options.itemFilter||(C=S.options.itemFilter(C))?(d=!0,K=C.ownerDocument||document,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),f=t.touches&&t.touches.length,function(){var t,i=0,r=0,a=at,l=st,s=lt,n=($.tagName||"").toLowerCase();if(R=(t=K).scrollingElement||t.documentElement||t.body,T=null,S.options.autoscroll)for(T=$;T&&!(R===T||ht!==N&&T.scrollHeight>T.clientHeight&&St(T,dt)||mt!==N&&T.scrollWidth>T.clientWidth&&St(T,ft));)T=T.parentNode;$[nt]={rect:$.getBoundingClientRect(),scroll:{top:$[dt]||0,left:$[ft]||0,width:$.scrollWidth,height:$.scrollHeight,top0:$[dt]||0,left0:$[ft]||0},$:Nt($),style:Ct($,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"])},$[nt][w]={left:I($[nt].$.paddingLeft)||0,right:I($[nt].$.paddingRight)||0},T&&T!==$&&(T[nt]={rect:T.getBoundingClientRect(),scroll:{top:T[dt]||0,left:T[ft]||0,width:T.scrollWidth,height:T.scrollHeight,top0:T[dt]||0,left0:T[ft]||0}}),(c=[].map.call($.children,function(t,n){var e=t.getBoundingClientRect(),o=Nt(t);return t[nt]={index:n,line:0,prev:{},rect:{top:e[pt],left:e[at],width:e[st],height:e[ut]},r:{top:e[pt],left:e[at],width:e[st],height:e[ut]},margin:{top:I(o.marginTop)||0,right:I(o.marginRight)||0,bottom:I(o.marginBottom)||0,left:I(o.marginLeft)||0},$:o,style:Ct(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),animation:null},o=t[nt][rt][a]+t[nt][et][l]+t[nt][rt][s],0<r&&$[nt][w][a]+r+o+$[nt][w][s]>$[nt][et][l]&&(i++,r=0),t[nt].line=i,r+=o,t})).length&&(z=c[0],A=c[c.length-1]),a=pt,l=ut,s=ct,u=new Array(c.length),c.forEach(function(t){var n=t[nt].line,t=t[nt][et][a]-t[nt][rt][a]-$[nt][et][a]+$[nt][ot][a];u[n]=null==u[n]?t:gt.min(t,u[n])}),It($,S.options.activeArea||"dnd-sortable-area"),$[it].boxSizing="border-box",$[it][st]=xt($[nt][et][st])+"px",$[it][ut]=xt($[nt][et][ut])+"px",$[it].maxWidth=xt($[nt][et][st])+"px",$[it].maxHeight=xt($[nt][et][ut])+"px",C.draggable=!1,It(C,S.options.activeItem||"dnd-sortable-dragged"),h=!0,c.forEach(function(t){var n=c[0];t[it].position="absolute",t[it].boxSizing="border-box",t[it].overflow="hidden",t[it][pt]=xt(t[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt]-t[nt][rt][pt])+"px",t[it][at]=xt(t[nt][et][at]-$[nt][et][at]+$[nt][ot][at]-t[nt][rt][at])+"px",t[it][st]=xt(t[nt][et][st])+"px",t[it][ut]=xt(t[nt][et][ut])+"px",t[nt][et][st]===n[nt][et][st]&&t[nt][et][ut]===n[nt][et][ut]&&t[nt][rt][pt]===n[nt][rt][pt]&&t[nt][rt][ct]===n[nt][rt][ct]&&t[nt][rt][at]===n[nt][rt][at]&&t[nt][rt][lt]===n[nt][rt][lt]||(h=!1)}),It(B=K.createElement("ul"===n||"ol"===n?"li":"tr"===n?"td":"tbody"===n||"thead"===n||"tfoot"===n||"table"===n?"tr":"span"),S.options.placeholder||"dnd-sortable-placeholder"),B[it].position="absolute",B[it].display="block",B[it].boxSizing="border-box",B[it].margin="0",$===T&&($[it].paddingLeft=xt($[nt][ot][st]-$[nt][et][st])+"px",$[it].paddingTop=xt($[nt][ot][ut]-$[nt][et][ut])+"px",$[it].paddingRight="0px",$[it].paddingBottom="0px",$[ft]=$[nt][ot][at],$[dt]=$[nt][ot][pt]),f?(wt(K,"touchmove",g,!1),wt(K,"touchend",b,!1),wt(K,"touchcancel",b,!1)):(wt(K,"mousemove",g,!1),wt(K,"mouseup",b,!1)),m=setInterval(x,60)}(),V=k=(f?t.touches[0]:t).clientX,X=H=(f?t.touches[0]:t).clientY,W=k,j=H,M=F=D=O=0,$.insertBefore(B,C),B[it][st]=xt(C[nt][et][st])+"px",B[it][ut]=xt(C[nt][et][ut])+"px",B[it][pt]=xt(C[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt])+"px",B[it][at]=xt(C[nt][et][at]-$[nt][et][at]+$[nt][ot][at])+"px",ht!==N&&(C[it][pt]=xt(H-j+C[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt]-C[nt][rt][pt])+"px"),mt!==N&&(C[it][at]=xt(k-W+C[nt][et][at]-$[nt][et][at]+$[nt][ot][at]-C[nt][rt][at])+"px")):e())))}var B,C,n,P,z,A,c,u,R,T,$,W,j,k,H,O,D,F,M,V,X,Y,q,G,J,K,i,r,a,l=!1,s=!1,d=!1,f=!1,m=null,Q=null,h=!1,U=ht===N?st:ut,Z=ht===N?at:pt,v=at===Z?lt:ct,_=vt===N?function(t,n,e,o){var i,r,a=n;if(h){if(e<0){for(r=t[y],p(t,n,e),t[nt].prev.line=t[nt].line,t[nt].prev[pt]=t[nt][et][pt],t[nt].prev[at]=t[nt][et][at],t[nt].line=n[nt].line,t[nt][et][pt]=n[nt][et][pt],t[nt][et][at]=n[nt][et][at],B[it][pt]=xt(t[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt])+"px",B[it][at]=xt(t[nt][et][at]-$[nt][et][at]+$[nt][ot][at])+"px";(i=n[y])&&i!==r;)n[nt].animation&&n[nt].animation.stop(),n[nt].index++,n[nt].prev.line=n[nt].line,n[nt].prev[pt]=n[nt][et][pt],n[nt].prev[at]=n[nt][et][at],n[nt].line=i[nt].line,n[nt][et][pt]=i[nt][et][pt],n[nt][et][at]=i[nt][et][at],n[it][pt]=xt(n[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt]-n[nt][rt][pt])+"px",n[it][at]=xt(n[nt][et][at]-$[nt][et][at]+$[nt][ot][at]-n[nt][rt][at])+"px",n=i;n[nt].animation&&n[nt].animation.stop(),n[nt].index++,n[nt].prev.line=n[nt].line,n[nt].prev[pt]=n[nt][et][pt],n[nt].prev[at]=n[nt][et][at],n[nt].line=t[nt].prev.line,n[nt][et][pt]=t[nt].prev[pt],n[nt][et][at]=t[nt].prev[at],n[it][pt]=xt(n[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt]-n[nt][rt][pt])+"px",n[it][at]=xt(n[nt][et][at]-$[nt][et][at]+$[nt][ot][at]-n[nt][rt][at])+"px"}else if(0<e){for(r=t[y],p(t,n,e),n=r,(i=t)[nt].prev.line=i[nt].line,i[nt].prev[pt]=i[nt][et][pt],i[nt].prev[at]=i[nt][et][at];n[nt].animation&&n[nt].animation.stop(),n[nt].index--,n[nt].prev.line=n[nt].line,n[nt].prev[pt]=n[nt][et][pt],n[nt].prev[at]=n[nt][et][at],n[nt].line=i[nt].prev.line,n[nt][et][pt]=i[nt].prev[pt],n[nt][et][at]=i[nt].prev[at],n[it][pt]=xt(n[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt]-n[nt][rt][pt])+"px",n[it][at]=xt(n[nt][et][at]-$[nt][et][at]+$[nt][ot][at]-n[nt][rt][at])+"px",(n=(i=n)[y])&&n!==B;);t[nt].line=i[nt].prev.line,t[nt][et][pt]=i[nt].prev[pt],t[nt][et][at]=i[nt].prev[at],B[it][pt]=xt(t[nt][et][pt]-$[nt][et][pt]+$[nt][ot][pt])+"px",B[it][at]=xt(t[nt][et][at]-$[nt][et][at]+$[nt][ot][at])+"px"}zt(a,o,{top:a[nt][et][pt]-a[nt].prev[pt],left:a[nt][et][at]-a[nt].prev[at]})}else e<0?(i=B[E],r=n[E]||n,p(t,n,e)):0<e&&(i=t[y],r=B[E]||t[y],p(t,n,e)),function(t,n,e,o){for(t=t[e<0?y:E];t;){if(t!==o&&(t[nt].index+=e<0?1:-1),t===n)return;t=t[e<0?y:E]}}(t,i,e,B),function(t,n,e,o,i,r,a,l){for(var s,p=0;t;)t!==i&&(t[nt]&&t[nt].animation&&t[nt].animation.stop(),s=t[nt][rt][r]+t[nt][et][a]+t[nt][rt][l],0<p&&e[nt][w][r]+p+s+e[nt][w][l]>e[nt][et][a]&&(n++,p=0),t[nt].line=n,t[nt].prev[r]=t[nt][et][r],t[nt][et][r]=e[nt][et][r]-e[nt][ot][r]+e[nt][w][r]+p+t[nt][rt][r],(t===o?i:t)[it][r]=xt(t[nt][et][r]-e[nt][et][r]+e[nt][ot][r]-(t===o?0:t[nt][rt][r]))+"px",p+=s),t=t[y]}(r=function(t,n){for(var e;(e=t[E])&&e[nt]&&e[nt].line>=n;)t=e;return t}(r,e=r[nt].line),e,$,t,B,at,st,lt),function(t,n,e,o,i,r,a,l){for(var s,p,c,u=t,d=t[nt].line,f=0;t;)t!==i&&(s=t[nt].line,c=t[nt][rt][r]+t[nt][et][a]+t[nt][rt][l],f=s===d?gt.max(f,c):(n[s]=n[d]+f,d=s,c)),t=t[y];for(0<f&&(n[d+1]=n[d]+f),t=u;t;){if(t!==i){switch(p=n[s=t[nt].line],t[nt].prev[r]=t[nt][et][r],t[nt].$.verticalAlign){case"bottom":t[nt][et][r]=e[nt][et][r]-e[nt][ot][r]+n[s+1]-t[nt][et][a]-t[nt][rt][l];break;case"top":default:t[nt][et][r]=e[nt][et][r]-e[nt][ot][r]+p+t[nt][rt][r]}(t===o?i:t)[it][r]=xt(t[nt][et][r]-(t===o?0:t[nt][rt][r])-e[nt][et][r]+e[nt][ot][r])+"px"}t=t[y]}}(r,u,$,t,B,pt,ut,ct),zt(a,o,{top:a[nt][et][pt]-a[nt].prev[pt],left:a[nt][et][at]-a[nt].prev[at]})}:function(t,n,e,o){var i,r,a=n,l=0,s=0;if(e<0){for(r=t[y],p(t,n,e),t[nt].prev[Z]=t[nt][et][Z],s=t[nt][rt][Z]-n[nt][rt][Z],t[nt][et][Z]=n[nt][et][Z]+s,B[it][Z]=xt(t[nt][et][Z]-$[nt][et][Z]+$[nt][ot][Z])+"px",l=t[nt][et][U]-n[nt][et][U],s+=t[nt][rt][v]-n[nt][rt][v];(i=n[y])&&i!==r;)n[nt].animation&&n[nt].animation.stop(),n[nt].index++,n[nt].prev[Z]=n[nt][et][Z],s+=n[nt][rt][Z]-i[nt][rt][Z],n[nt][et][Z]=i[nt][et][Z]+l+s,s+=n[nt][rt][v]-i[nt][rt][v],n[it][Z]=xt(n[nt][et][Z]-$[nt][et][Z]+$[nt][ot][Z]-n[nt][rt][Z])+"px",l+=n[nt][et][U]-i[nt][et][U],n=i;n[nt].animation&&n[nt].animation.stop(),n[nt].index++,n[nt].prev[Z]=n[nt][et][Z],n[nt][et][Z]=t[nt].prev[Z]+l+s-t[nt][rt][Z]+n[nt][rt][Z],n[it][Z]=xt(n[nt][et][Z]-$[nt][et][Z]+$[nt][ot][Z]-n[nt][rt][Z])+"px"}else if(0<e){for(r=t[y],p(t,n,e),n=r,l=s=0,(i=t)[nt].prev[Z]=i[nt][et][Z];n[nt].animation&&n[nt].animation.stop(),n[nt].index--,n[nt].prev[Z]=n[nt][et][Z],s+=n[nt][rt][Z]-i[nt][rt][Z],n[nt][et][Z]=i[nt].prev[Z]+l+s,n[it][Z]=xt(n[nt][et][Z]-$[nt][et][Z]+$[nt][ot][Z]-n[nt][rt][Z])+"px",l+=-(i[nt][et][U]-n[nt][et][U]),s+=n[nt][rt][v]-i[nt][rt][v],(n=(i=n)[y])&&n!==B;);t[nt][et][Z]=i[nt].prev[Z]+l+s-i[nt][rt][Z]+t[nt][rt][Z],B[it][Z]=xt(t[nt][et][Z]-$[nt][et][Z]+$[nt][ot][Z])+"px"}(t={})[Z]=a[nt][et][Z]-a[nt].prev[Z],zt(a,o,t)},tt=vt===N?Rt:At,g=(i=function(t){V=(f?t.touches[0]:t).clientX,X=(f?t.touches[0]:t).clientY},a=!(r=60),function(){a||(i.apply(this,arguments),a=!0,setTimeout(function(){a=!1},r))}),x=function(){var t,n,e,o,i,r,a,l,s,p,c,u,d,f,m,h,v,g,x=0,b=pt,w=ut,y=at,E=st,I=0,L=0;mt===N&&(y=pt,E=ut),e=(n=V)-k,o=(t=X)-H,O=0===O?e:O,D=0===D?o:D,F=0!=e?bt(e):0!==O?bt(O):F,M=0!=o?bt(o):0!==D?bt(D):M,k=n,H=t,Y=(p=T)?{top:p[dt]-p[nt][ot].top0||0,left:p[ft]-p[nt][ot].left0||0}:{top:0,left:0},ht!==N&&(C[nt].r[pt]=H-j+C[nt][et][pt],C[it][pt]=xt(C[nt].r[pt]-$[nt][et][pt]+$[nt][ot][pt]-C[nt][rt][pt]+Y[pt])+"px"),mt!==N&&(C[nt].r[at]=k-W+C[nt][et][at],C[it][at]=xt(C[nt].r[at]-$[nt][et][at]+$[nt][ot][at]-C[nt][rt][at]+Y[at])+"px"),S.options.autoscroll&&T&&(!Q||e*O<0||o*D<0)&&(Q&&(clearInterval(Q),Q=null),p=s=R===T?(i=T[nt][et][st],r=0,a=T[nt][et][ut],l=0,2):(i=T[nt][et][lt],r=T[nt][et][at],a=T[nt][et][ct],l=T[nt][et][pt],1.5),mt!==N&&(0<F&&T[ft]+T[nt][et][st]<T[nt][ot][st]&&C[nt].r[at]+C[nt].r[st]>=i||F<0&&0<T[ft]&&C[nt].r[at]<=r)&&(I=gt.round(F*s*C[nt].r[st])),ht!==N&&(0<M&&T[dt]+T[nt][et][ut]<T[nt][ot][ut]&&C[nt].r[pt]+C[nt].r[ut]>=a||M<0&&0<T[dt]&&C[nt].r[pt]<=l)&&(L=gt.round(M*p*C[nt].r[ut])),(I||L)&&(p=gt.abs(I)>gt.abs(L)?I:0,c=gt.abs(L)>=gt.abs(I)?L:0,u=S.options.scrollAnimationMs||0,d=1e3/60,f=T[dt]||0,m=T[ft]||0,h=0,v=p/(u||d),g=c/(u||d),Q=setInterval(function(){h+=d,f+=g*d,m+=v*d,T[dt]=gt.min(gt.max(0,f),T[nt][ot][ut]-T[nt][et][ut]),T[ft]=gt.min(gt.max(0,m),T[nt][ot][st]-T[nt][et][st]),u<=h&&(clearInterval(Q),Q=null)},d))),O=e,D=o,c=C[nt].r[at]+C[nt].r[st]/2,e=C[nt].r[pt]+C[nt].r[ut]/2,o=C[nt].r[y],c=function(t){for(var n=1,e=arguments,o=e.length;n<o;++n)t.push.apply(t,e[n]);return t}(Bt(K,n,t),mt===N?[]:Bt(K,C[nt].r[at]+2,e),mt===N?[]:Bt(K,C[nt].r[at]+C[nt].r[st]-2,e),ht===N?[]:Bt(K,c,C[nt].r[pt]+2),ht===N?[]:Bt(K,c,C[nt].r[pt]+C[nt].r[ut]-2)).reduce(function(t,n){var e;return n!==C&&n!==B&&n.parentNode===$&&(e=tt(C,n,Y,Z,U),x<e&&(x=e,t=n)),t},null),E=vt===N?(!c&&C!==z&&0<=z[nt][et][y]-Y[y]-(o+C[nt][et][E])&&z[nt][et][y]-Y[y]-(o+C[nt][et][E])<25&&.7<(x=At(C,z,Y,b,w))&&(c=z),!c&&C!==A&&0<=o-(A[nt][et][y]-Y[y]+A[nt][et][E])&&o-(A[nt][et][y]-Y[y]+A[nt][et][E])<25&&.7<(x=At(C,A,Y,b,w))&&(c=A),c?c[nt].index-C[nt].index:gt.abs(M)>=gt.abs(F)?M:F):(!c&&C!==z&&z[nt][et][y]-Y[y]>o+C[nt][et][E]&&(c=z),!c&&C!==A&&o>A[nt][et][y]-Y[y]+A[nt][et][E]&&(c=A),ht===N?F:M),P&&(q<0&&0<E&&G<.5||0<q&&E<0&&G<.5||c&&P!==c&&G<x||!tt(C,P,Y,Z,U))&&(Lt(P,S.options.closestItem||"dnd-sortable-closest"),G=0,P=null),!P&&c&&x&&(P=c,q=0<E?1:-1,G=x,J=!1),P&&((x=x||tt(C,P,Y,Z,U))?.2<(G=x)?(It(P,S.options.closestItem||"dnd-sortable-closest"),.5<x&&!J&&(W-=C[nt][et][at],j-=C[nt][et][pt],J=!0,_(C,P,q,S.options.animationMs||0),W+=C[nt][et][at],j+=C[nt][et][pt])):Lt(P,S.options.closestItem||"dnd-sortable-closest"):(Lt(P,S.options.closestItem||"dnd-sortable-closest"),G=0,P=null))},b=function(t){var n=C;o(),e(),"function"==typeof S.options.onEnd&&S.options.onEnd(n)};S.start=S.options.callable?function(){s||(s=!(l=!1),S.handle=t)}:function(){s||(s=!0,l||(l=!0,wt(document,"touchstart",t,{capture:!0,passive:!1}),wt(document,"mousedown",t,{capture:!0,passive:!1})))},S.stop=function(){S.handle=null,s=!1,l&&(l=!1,yt(document,"touchstart",t,{capture:!0,passive:!1}),yt(document,"mousedown",t,{capture:!0,passive:!1})),o(),e()}}function l(t,n){var e=this;if(!(e instanceof l))return new l(t,n);switch(e.options=n||{},(t=xt(t)).toLowerCase()){case"unrestricted":a(e,vt);break;case"horizontal":a(e,ht);break;case"vertical":a(e,mt);break;default:throw new TypeError("AreaSortable invalid sort mode:"+t)}e.start()}return window.Element&&!o.call(window.Element.prototype,nt)&&(window.Element.prototype[nt]=null),l.VERSION="1.2.2",l.prototype={constructor:l,options:null,start:null,handle:null,stop:null,dispose:function(){var t=this;return t.stop&&t.stop(),t.options=null,t.start=null,t.handle=null,t.stop=null,t}},l});