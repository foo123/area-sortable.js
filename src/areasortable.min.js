/**
*  area-sortable.js
*  A simple js class to sort elements of an area smoothly using drag-and-drop (desktop and mobile)
*  @VERSION: 1.2.2
*
*  https://github.com/foo123/area-sortable.js
*
**/
!function(t,n){"use strict";"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(function(t){return n()}):t.AreaSortable=n()}("undefined"!=typeof self?self:this,function(t){"use strict";var et="$areaSortable",ot="rect",it="scroll",rt="style",at="margin",w="padding",lt="left",st="right",pt="width",ct="top",ut="bottom",dt="height",y="nextElementSibling",E="previousElementSibling",ft="scrollTop",mt="scrollLeft",ht=1,vt=2,gt=ht+vt,xt=Math,bt=String,I=parseInt,o=Object.prototype.hasOwnProperty,n=Object.prototype.toString,e=/^\s+|\s+$/g,S=/mousedown|pointerdown/,i=bt.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(e,"")},r=null;function wt(t,n){return t<0?-1:0<t?1:n||0}function L(t){return"function"==typeof t}function yt(t){return"[object String]"===n.call(t)}function a(){var n=!1,t={};try{Object.defineProperty(t,"passive",{get:function(){return!(n=!0)}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){n=!1}return n}function Et(t,n,e,o){null==r&&(r=a()),t.attachEvent?t.attachEvent("on"+n,e):t.addEventListener(n,e,r?o:"object"==typeof o?!!o.capture:!!o)}function It(t,n,e,o){null==r&&(r=a()),t.detachEvent?t.detachEvent("on"+n,e):t.removeEventListener(n,e,r?o:"object"==typeof o?!!o.capture:!!o)}function St(t,n){return t.classList?t.classList.contains(n):-1!==(" "+t.className+" ").indexOf(" "+n+" ")}function Lt(t,n){t.classList?t.classList.add(n):St(t,n)||(t.className=""===t.className?n:t.className+" "+n)}function Nt(t,n){t.classList?t.classList.remove(n):t.className=i((" "+t.className+" ").replace(" "+n+" "," "))}function Bt(t,n){return 0!==t[n]||((t[n]=1)===t[n]?(t[n]=0,1):void 0)}function Ct(t){return(L(window.getComputedStyle)?window.getComputedStyle(t,null):t.currentStyle)||{}}function Pt(t,n,e){return t.elementsFromPoint(n,e)}function zt(e,t){return t.reduce(function(t,n){return t[n]=e[rt].getPropertyValue(n),t},{})}function jt(n,t,e){e=e||n[et][rt],t.forEach(function(t){o.call(e,t)&&""!==e[t]?n[rt][t]=e[t]:n[rt].removeProperty(t)})}function At(n,t,e){var o,i,r,a;return 0<t&&(n[et]&&n[et].animation&&n[et].animation.stop(),o="transform "+bt(t)+"ms",i="translate3d(0,0,0)",r=null,a=function t(){r&&clearTimeout(r),r=null,n[et]&&n[et].animation&&t===n[et].animation.stop&&(n[et].animation=null),n[rt].transform===i&&n[rt].transition===o&&(n[rt].transition="none",n[rt].transform="none")},n[rt].transition="none",n[rt].transform="translate3d("+bt(-(e[lt]||0))+"px,"+bt(-(e[ct]||0))+"px,0)",n.offsetWidth,n[rt].transform=i,n[rt].transition=o,r=setTimeout(a,t),n[et].animation={stop:a}),n}function Rt(t,n,e,o,i){t=t[et].r,n=n[et][ot];return xt.max(0,xt.min(1,xt.max(0,xt.min(t[o]+t[i],n[o]-e[o]+n[i])-xt.max(t[o],n[o]-e[o]))/xt.min(t[i],n[i])))}function Tt(t,n,e,o,i){var r=t[et].r,a=n[et][ot],t=0,n=0,t=xt.max(0,xt.min(r[lt]+r[pt],a[lt]-e[lt]+a[pt])-xt.max(r[lt],a[lt]-e[lt])),n=xt.max(0,xt.min(r[ct]+r[dt],a[ct]-e[ct]+a[dt])-xt.max(r[ct],a[ct]-e[ct]));return xt.max(0,xt.min(1,t*n/(xt.min(r[pt],a[pt])*xt.min(r[dt],a[dt]))))}function l(N,B){function e(){Q=u=c=$=T=R=A=j=z=n=P=C=null,K=!1,J=0}function o(){d&&(U&&(clearInterval(U),U=null),f?(It(Q,"touchmove",g,!1),It(Q,"touchend",b,!1),It(Q,"touchcancel",b,!1)):(It(Q,"mousemove",g,!1),It(Q,"mouseup",b,!1)),m&&(clearInterval(m),m=null),C&&C.parentNode&&(C.parentNode.removeChild(C),C[et]=null),Nt($,N.options.activeArea||"dnd-sortable-area"),jt($,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"],$[et].style),z&&Nt(z,N.options.closestItem||"dnd-sortable-closest"),Nt(P,N.options.activeItem||"dnd-sortable-dragged"),c.forEach(function(t){jt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),t[et]=null}),$[et]=null,T&&(T[et]=null),d=!1)}function p(t,n,e){e<0?(j===n&&(j=t),A===t&&(A=C[E]),$.insertBefore(t,n)):0<e&&(j===t&&(j=t[y]),n[y]?$.insertBefore(t,n[y]):($.appendChild(t),A=t)),t[et].index=n[et].index,$.insertBefore(C,t)}function t(t){s&&!d&&N.options.container&&(S.test(t.type)&&0!==t.button||(e(),!(n=t.target)||!St(n,N.options.handle||"dnd-sortable-handle")||!(P=function(t,n){if(t.closest)return t.closest("."+n);for(;t;){if(St(t,n))return t;t=t.parentNode}}(n,N.options.item||"dnd-sortable-item"))||!($=P.parentNode)||yt(N.options.container)&&$.id!==N.options.container||!yt(N.options.container)&&$!==N.options.container?e():(L(N.options.onStart)&&N.options.onStart(P),!L(N.options.itemFilter)||(P=N.options.itemFilter(P))?(d=!0,Q=P.ownerDocument||document,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),f=t.touches&&t.touches.length,function(){var t,i=0,r=0,a=lt,l=pt,s=st,n=($.tagName||"").toLowerCase();if(R=(t=Q).scrollingElement||t.documentElement||t.body,T=null,N.options.autoscroll)for(T=$;T&&!(R===T||vt!==B&&T.scrollHeight>T.clientHeight&&Bt(T,ft)||ht!==B&&T.scrollWidth>T.clientWidth&&Bt(T,mt));)T=T.parentNode;$[et]={rect:$.getBoundingClientRect(),scroll:{top:$[ft]||0,left:$[mt]||0,width:$.scrollWidth,height:$.scrollHeight,top0:$[ft]||0,left0:$[mt]||0},$:Ct($),style:zt($,["width","height","max-width","max-height","box-sizing","padding-left","padding-top","padding-right","padding-bottom"])},$[et][w]={left:I($[et].$.paddingLeft)||0,right:I($[et].$.paddingRight)||0},T&&T!==$&&(T[et]={rect:T.getBoundingClientRect(),scroll:{top:T[ft]||0,left:T[mt]||0,width:T.scrollWidth,height:T.scrollHeight,top0:T[ft]||0,left0:T[mt]||0}}),(c=[].map.call($.children,function(t,n){var e=t.getBoundingClientRect(),o=Ct(t);return t[et]={index:n,line:0,prev:{},rect:{top:e[ct],left:e[lt],width:e[pt],height:e[dt]},r:{top:e[ct],left:e[lt],width:e[pt],height:e[dt]},margin:{top:I(o.marginTop)||0,right:I(o.marginRight)||0,bottom:I(o.marginBottom)||0,left:I(o.marginLeft)||0},$:o,style:zt(t,["position","box-sizing","overflow","top","left","width","height","transform","transition"]),animation:null},o=t[et][at][a]+t[et][ot][l]+t[et][at][s],0<r&&$[et][w][a]+r+o+$[et][w][s]>$[et][ot][l]&&(i++,r=0),t[et].line=i,r+=o,t})).length&&(j=c[0],A=c[c.length-1]),a=ct,l=dt,s=ut,u=new Array(c.length),c.forEach(function(t){var n=t[et].line,t=t[et][ot][a]-t[et][at][a]-$[et][ot][a]+$[et][it][a];u[n]=null==u[n]?t:xt.min(t,u[n])}),Lt($,N.options.activeArea||"dnd-sortable-area"),$[rt].boxSizing="border-box",$[rt][pt]=bt($[et][ot][pt])+"px",$[rt][dt]=bt($[et][ot][dt])+"px",$[rt].maxWidth=bt($[et][ot][pt])+"px",$[rt].maxHeight=bt($[et][ot][dt])+"px",P.draggable=!1,Lt(P,N.options.activeItem||"dnd-sortable-dragged"),h=!0,c.forEach(function(t){var n=c[0];t[rt].position="absolute",t[rt].boxSizing="border-box",t[rt].overflow="hidden",t[rt][ct]=bt(t[et][ot][ct]-$[et][ot][ct]+$[et][it][ct]-t[et][at][ct])+"px",t[rt][lt]=bt(t[et][ot][lt]-$[et][ot][lt]+$[et][it][lt]-t[et][at][lt])+"px",t[rt][pt]=bt(t[et][ot][pt])+"px",t[rt][dt]=bt(t[et][ot][dt])+"px",t[et][ot][pt]===n[et][ot][pt]&&t[et][ot][dt]===n[et][ot][dt]&&t[et][at][ct]===n[et][at][ct]&&t[et][at][ut]===n[et][at][ut]&&t[et][at][lt]===n[et][at][lt]&&t[et][at][st]===n[et][at][st]||(h=!1)}),Lt(C=Q.createElement("ul"===n||"ol"===n?"li":"tr"===n?"td":"tbody"===n||"thead"===n||"tfoot"===n||"table"===n?"tr":"span"),N.options.placeholder||"dnd-sortable-placeholder"),C[rt].position="absolute",C[rt].display="block",C[rt].boxSizing="border-box",C[rt].margin="0",$===T&&($[rt].paddingLeft=bt($[et][it][pt]-$[et][ot][pt])+"px",$[rt].paddingTop=bt($[et][it][dt]-$[et][ot][dt])+"px",$[rt].paddingRight="0px",$[rt].paddingBottom="0px",$[mt]=$[et][it][lt],$[ft]=$[et][it][ct]),f?(Et(Q,"touchmove",g,!1),Et(Q,"touchend",b,!1),Et(Q,"touchcancel",b,!1)):(Et(Q,"mousemove",g,!1),Et(Q,"mouseup",b,!1)),m=setInterval(x,60)}(),X=k=(f?t.touches[0]:t).clientX,Y=H=(f?t.touches[0]:t).clientY,O=k,W=H,V=M=F=D=0,$.insertBefore(C,P),C[rt][pt]=bt(P[et][ot][pt])+"px",C[rt][dt]=bt(P[et][ot][dt])+"px",C[rt][ct]=bt(P[et][ot][ct]-$[et][ot][ct]+$[et][it][ct])+"px",C[rt][lt]=bt(P[et][ot][lt]-$[et][ot][lt]+$[et][it][lt])+"px",vt!==B&&(P[rt][ct]=bt(H-W+P[et][ot][ct]-$[et][ot][ct]+$[et][it][ct]-P[et][at][ct])+"px"),ht!==B&&(P[rt][lt]=bt(k-O+P[et][ot][lt]-$[et][ot][lt]+$[et][it][lt]-P[et][at][lt])+"px")):e())))}var C,P,n,z,j,A,c,u,R,T,$,O,W,k,H,D,F,M,V,X,Y,q,G,J,K,Q,i,r,a,l=!1,s=!1,d=!1,f=!1,m=null,U=null,h=!1,Z=vt===B?pt:dt,_=vt===B?lt:ct,v=lt===_?st:ut,tt=gt===B?function(t,n,e,o){var i,r,a=n;if(h){if(e<0){for(r=t[y],p(t,n,e),t[et].prev.line=t[et].line,t[et].prev[ct]=t[et][ot][ct],t[et].prev[lt]=t[et][ot][lt],t[et].line=n[et].line,t[et][ot][ct]=n[et][ot][ct],t[et][ot][lt]=n[et][ot][lt],C[rt][ct]=bt(t[et][ot][ct]-$[et][ot][ct]+$[et][it][ct])+"px",C[rt][lt]=bt(t[et][ot][lt]-$[et][ot][lt]+$[et][it][lt])+"px";(i=n[y])&&i!==r;)n[et].animation&&n[et].animation.stop(),n[et].index++,n[et].prev.line=n[et].line,n[et].prev[ct]=n[et][ot][ct],n[et].prev[lt]=n[et][ot][lt],n[et].line=i[et].line,n[et][ot][ct]=i[et][ot][ct],n[et][ot][lt]=i[et][ot][lt],n[rt][ct]=bt(n[et][ot][ct]-$[et][ot][ct]+$[et][it][ct]-n[et][at][ct])+"px",n[rt][lt]=bt(n[et][ot][lt]-$[et][ot][lt]+$[et][it][lt]-n[et][at][lt])+"px",n=i;n[et].animation&&n[et].animation.stop(),n[et].index++,n[et].prev.line=n[et].line,n[et].prev[ct]=n[et][ot][ct],n[et].prev[lt]=n[et][ot][lt],n[et].line=t[et].prev.line,n[et][ot][ct]=t[et].prev[ct],n[et][ot][lt]=t[et].prev[lt],n[rt][ct]=bt(n[et][ot][ct]-$[et][ot][ct]+$[et][it][ct]-n[et][at][ct])+"px",n[rt][lt]=bt(n[et][ot][lt]-$[et][ot][lt]+$[et][it][lt]-n[et][at][lt])+"px"}else if(0<e){for(r=t[y],p(t,n,e),n=r,(i=t)[et].prev.line=i[et].line,i[et].prev[ct]=i[et][ot][ct],i[et].prev[lt]=i[et][ot][lt];n[et].animation&&n[et].animation.stop(),n[et].index--,n[et].prev.line=n[et].line,n[et].prev[ct]=n[et][ot][ct],n[et].prev[lt]=n[et][ot][lt],n[et].line=i[et].prev.line,n[et][ot][ct]=i[et].prev[ct],n[et][ot][lt]=i[et].prev[lt],n[rt][ct]=bt(n[et][ot][ct]-$[et][ot][ct]+$[et][it][ct]-n[et][at][ct])+"px",n[rt][lt]=bt(n[et][ot][lt]-$[et][ot][lt]+$[et][it][lt]-n[et][at][lt])+"px",(n=(i=n)[y])&&n!==C;);t[et].line=i[et].prev.line,t[et][ot][ct]=i[et].prev[ct],t[et][ot][lt]=i[et].prev[lt],C[rt][ct]=bt(t[et][ot][ct]-$[et][ot][ct]+$[et][it][ct])+"px",C[rt][lt]=bt(t[et][ot][lt]-$[et][ot][lt]+$[et][it][lt])+"px"}At(a,o,{top:a[et][ot][ct]-a[et].prev[ct],left:a[et][ot][lt]-a[et].prev[lt]})}else e<0?(i=C[E],r=n[E]||n,p(t,n,e)):0<e&&(i=t[y],r=C[E]||t[y],p(t,n,e)),function(t,n,e,o){for(t=t[e<0?y:E];t;){if(t!==o&&(t[et].index+=e<0?1:-1),t===n)return;t=t[e<0?y:E]}}(t,i,e,C),function(t,n,e,o,i,r,a,l){for(var s,p=0;t;)t!==i&&(t[et]&&t[et].animation&&t[et].animation.stop(),s=t[et][at][r]+t[et][ot][a]+t[et][at][l],0<p&&e[et][w][r]+p+s+e[et][w][l]>e[et][ot][a]&&(n++,p=0),t[et].line=n,t[et].prev[r]=t[et][ot][r],t[et][ot][r]=e[et][ot][r]-e[et][it][r]+e[et][w][r]+p+t[et][at][r],(t===o?i:t)[rt][r]=bt(t[et][ot][r]-e[et][ot][r]+e[et][it][r]-(t===o?0:t[et][at][r]))+"px",p+=s),t=t[y]}(r=function(t,n){for(var e;(e=t[E])&&e[et]&&e[et].line>=n;)t=e;return t}(r,e=r[et].line),e,$,t,C,lt,pt,st),function(t,n,e,o,i,r,a,l){for(var s,p,c,u=t,d=t[et].line,f=0;t;)t!==i&&(s=t[et].line,c=t[et][at][r]+t[et][ot][a]+t[et][at][l],f=s===d?xt.max(f,c):(n[s]=n[d]+f,d=s,c)),t=t[y];for(0<f&&(n[d+1]=n[d]+f),t=u;t;){if(t!==i){switch(p=n[s=t[et].line],t[et].prev[r]=t[et][ot][r],t[et].$.verticalAlign){case"bottom":t[et][ot][r]=e[et][ot][r]-e[et][it][r]+n[s+1]-t[et][ot][a]-t[et][at][l];break;case"top":default:t[et][ot][r]=e[et][ot][r]-e[et][it][r]+p+t[et][at][r]}(t===o?i:t)[rt][r]=bt(t[et][ot][r]-(t===o?0:t[et][at][r])-e[et][ot][r]+e[et][it][r])+"px"}t=t[y]}}(r,u,$,t,C,ct,dt,ut),At(a,o,{top:a[et][ot][ct]-a[et].prev[ct],left:a[et][ot][lt]-a[et].prev[lt]})}:function(t,n,e,o){var i,r,a=n,l=0,s=0;if(e<0){for(r=t[y],p(t,n,e),t[et].prev[_]=t[et][ot][_],s=t[et][at][_]-n[et][at][_],t[et][ot][_]=n[et][ot][_]+s,C[rt][_]=bt(t[et][ot][_]-$[et][ot][_]+$[et][it][_])+"px",l=t[et][ot][Z]-n[et][ot][Z],s+=t[et][at][v]-n[et][at][v];(i=n[y])&&i!==r;)n[et].animation&&n[et].animation.stop(),n[et].index++,n[et].prev[_]=n[et][ot][_],s+=n[et][at][_]-i[et][at][_],n[et][ot][_]=i[et][ot][_]+l+s,s+=n[et][at][v]-i[et][at][v],n[rt][_]=bt(n[et][ot][_]-$[et][ot][_]+$[et][it][_]-n[et][at][_])+"px",l+=n[et][ot][Z]-i[et][ot][Z],n=i;n[et].animation&&n[et].animation.stop(),n[et].index++,n[et].prev[_]=n[et][ot][_],n[et][ot][_]=t[et].prev[_]+l+s-t[et][at][_]+n[et][at][_],n[rt][_]=bt(n[et][ot][_]-$[et][ot][_]+$[et][it][_]-n[et][at][_])+"px"}else if(0<e){for(r=t[y],p(t,n,e),n=r,l=s=0,(i=t)[et].prev[_]=i[et][ot][_];n[et].animation&&n[et].animation.stop(),n[et].index--,n[et].prev[_]=n[et][ot][_],s+=n[et][at][_]-i[et][at][_],n[et][ot][_]=i[et].prev[_]+l+s,n[rt][_]=bt(n[et][ot][_]-$[et][ot][_]+$[et][it][_]-n[et][at][_])+"px",l+=-(i[et][ot][Z]-n[et][ot][Z]),s+=n[et][at][v]-i[et][at][v],(n=(i=n)[y])&&n!==C;);t[et][ot][_]=i[et].prev[_]+l+s-i[et][at][_]+t[et][at][_],C[rt][_]=bt(t[et][ot][_]-$[et][ot][_]+$[et][it][_])+"px"}(t={})[_]=a[et][ot][_]-a[et].prev[_],At(a,o,t)},nt=gt===B?Tt:Rt,g=(i=function(t){X=(f?t.touches[0]:t).clientX,Y=(f?t.touches[0]:t).clientY},a=!(r=60),function(){a||(i.apply(this,arguments),a=!0,setTimeout(function(){a=!1},r))}),x=function(){var t,n,e,o,i,r,a,l,s,p,c,u,d,f,m,h,v,g=0,x=ct,b=dt,w=lt,y=pt,E=0,I=0,S=!1,L=!1;ht===B&&(w=ct,y=dt),e=(n=X)-k,o=(t=Y)-H,D=0===D?e:D,F=0===F?o:F,M=0!=e?wt(e):0!==D?wt(D):M,V=0!=o?wt(o):0!==F?wt(F):V,k=n,H=t,q=(s=T)?{top:s[ft]-s[et][it].top0||0,left:s[mt]-s[et][it].left0||0}:{top:0,left:0},vt!==B&&(P[et].r[ct]=H-W+P[et][ot][ct],P[rt][ct]=bt(P[et].r[ct]-$[et][ot][ct]+$[et][it][ct]-P[et][at][ct]+q[ct])+"px",L=o*F<0),ht!==B&&(P[et].r[lt]=k-O+P[et][ot][lt],P[rt][lt]=bt(P[et].r[lt]-$[et][ot][lt]+$[et][it][lt]-P[et][at][lt]+q[lt])+"px",S=e*D<0),N.options.autoscroll&&T&&(!U||S||L)&&(U&&(clearInterval(U),U=null),L=S=R===T?(i=T[et][ot][pt],r=0,a=T[et][ot][dt],l=0,1.5):(i=T[et][ot][st],r=T[et][ot][lt],a=T[et][ot][ut],l=T[et][ot][ct],1.2),ht!==B&&(0<M&&T[mt]+T[et][ot][pt]<T[et][it][pt]&&P[et].r[lt]+P[et].r[pt]>=i||M<0&&0<T[mt]&&P[et].r[lt]<=r)&&(E=xt.round(M*S*P[et].r[pt])),vt!==B&&(0<V&&T[ft]+T[et][ot][dt]<T[et][it][dt]&&P[et].r[ct]+P[et].r[dt]>=a||V<0&&0<T[ft]&&P[et].r[ct]<=l)&&(I=xt.round(V*L*P[et].r[dt])),(E||I)&&(L=xt.abs(E)>xt.abs(I)?E:0,p=xt.abs(I)>=xt.abs(E)?I:0,c=N.options.scrollAnimationMs||0,u=1e3/60,d=T[ft]||0,f=T[mt]||0,m=0,h=L/(c||u),v=p/(c||u),U=setInterval(function(){m+=u,d+=v*u,f+=h*u,T[ft]=xt.min(xt.max(0,d),T[et][it][dt]-T[et][ot][dt]),T[mt]=xt.min(xt.max(0,f),T[et][it][pt]-T[et][ot][pt]),U&&c<=m&&(clearInterval(U),U=null)},u))),D=e,F=o,p=P[et].r[lt]+P[et].r[pt]/2,e=P[et].r[ct]+P[et].r[dt]/2,o=P[et].r[w],p=function(t){for(var n=1,e=arguments,o=e.length;n<o;++n)t.push.apply(t,e[n]);return t}(Pt(Q,n,t),ht===B?[]:Pt(Q,P[et].r[lt]+2,e),ht===B?[]:Pt(Q,P[et].r[lt]+P[et].r[pt]-2,e),vt===B?[]:Pt(Q,p,P[et].r[ct]+2),vt===B?[]:Pt(Q,p,P[et].r[ct]+P[et].r[dt]-2)).reduce(function(t,n){var e;return n!==P&&n!==C&&n.parentNode===$&&(e=nt(P,n,q,_,Z),g<e&&(g=e,t=n)),t},null),y=gt===B?(!p&&P!==j&&0<=j[et][ot][w]-q[w]-(o+P[et][ot][y])&&j[et][ot][w]-q[w]-(o+P[et][ot][y])<25&&.7<(g=Rt(P,j,q,x,b))&&(p=j),!p&&P!==A&&0<=o-(A[et][ot][w]-q[w]+A[et][ot][y])&&o-(A[et][ot][w]-q[w]+A[et][ot][y])<25&&.7<(g=Rt(P,A,q,x,b))&&(p=A),p?p[et].index-P[et].index:xt.abs(V)>=xt.abs(M)?V:M):(!p&&P!==j&&j[et][ot][w]-q[w]>o+P[et][ot][y]&&(p=j),!p&&P!==A&&o>A[et][ot][w]-q[w]+A[et][ot][y]&&(p=A),vt===B?M:V),z&&(G<0&&0<y&&J<.5||0<G&&y<0&&J<.5||p&&z!==p&&J<g||!nt(P,z,q,_,Z))&&(Nt(z,N.options.closestItem||"dnd-sortable-closest"),J=0,z=null),!z&&p&&g&&(z=p,G=0<y?1:-1,J=g,K=!1),z&&((g=g||nt(P,z,q,_,Z))?.2<(J=g)?(Lt(z,N.options.closestItem||"dnd-sortable-closest"),.5<g&&!K&&(O-=P[et][ot][lt],W-=P[et][ot][ct],K=!0,tt(P,z,G,N.options.animationMs||0),O+=P[et][ot][lt],W+=P[et][ot][ct])):Nt(z,N.options.closestItem||"dnd-sortable-closest"):(Nt(z,N.options.closestItem||"dnd-sortable-closest"),J=0,z=null))},b=function(t){var n=P;o(),e(),L(N.options.onEnd)&&N.options.onEnd(n)};N.start=N.options.callable?function(){s||(s=!(l=!1),N.handle=t)}:function(){s||(s=!0,l||(l=!0,Et(document,"touchstart",t,{capture:!0,passive:!1}),Et(document,"mousedown",t,{capture:!0,passive:!1})))},N.stop=function(){N.handle=null,s=!1,l&&(It(document,"touchstart",t,{capture:!0,passive:!1}),It(document,"mousedown",t,{capture:!0,passive:!1}),l=!1),o(),e()}}function s(t,n){var e=this;if(!(e instanceof s))return new s(t,n);switch(e.options=n||{},(t=bt(t)).toLowerCase()){case"unrestricted":l(e,gt);break;case"horizontal":l(e,vt);break;case"vertical":l(e,ht);break;default:throw new TypeError("AreaSortable invalid sort mode:"+t)}e.start()}return window.Element&&!o.call(window.Element.prototype,et)&&(window.Element.prototype[et]=null),s.VERSION="1.2.2",s.prototype={constructor:s,options:null,start:null,handle:null,stop:null,dispose:function(){var t=this;return t.stop&&t.stop(),t.options=null,t.start=null,t.handle=null,t.stop=null,t}},s});